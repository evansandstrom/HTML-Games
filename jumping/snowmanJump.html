<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Snowman Jump</title>
  <style>
    body {
      margin: 0;
      background: linear-gradient(#87ceeb, #ffffff);
      font-family: Arial, sans-serif;
      overflow: hidden;
    }

    #game {
      position: relative;
      width: 400px;
      height: 600px;
      margin: 20px auto;
      background: #e6f7ff;
      border: 4px solid #333;
      overflow: hidden;
    }

    .snowman {
      position: absolute;
      width: 40px;
      height: 50px;
      background: white;
      border-radius: 50%;
      border: 2px solid #333;
    }

    .snowman::before {
      content: "";
      position: absolute;
      width: 30px;
      height: 30px;
      background: white;
      border-radius: 50%;
      top: -20px;
      left: 3px;
      border: 2px solid #333;
    }

    .platform {
      position: absolute;
      width: 70px;
      height: 10px;
      background: #4da6ff;
      border-radius: 5px;
    }

    #score {
      text-align: center;
      font-size: 20px;
      font-weight: bold;
    }

    #gameOver {
      position: absolute;
      width: 100%;
      height: 100%;
      background: rgba(0,0,0,0.7);
      color: white;
      display: none;
      justify-content: center;
      align-items: center;
      flex-direction: column;
      font-size: 24px;
    }

    button {
      margin-top: 10px;
      padding: 10px 20px;
      font-size: 16px;
      cursor: pointer;
    }
  </style>
</head>
<body>

<div id="score">Score: 0</div>

<div id="game">
  <div id="snowman" class="snowman"></div>
  <div id="gameOver">
    <div>Game Over</div>
    <button onclick="restart()">Restart</button>
  </div>
</div>

<script>
  const game = document.getElementById("game");
  const snowman = document.getElementById("snowman");
  const scoreDisplay = document.getElementById("score");
  const gameOverScreen = document.getElementById("gameOver");

  let snowmanX = 180;
  let snowmanY = 450;
  let velocityY = 0;
  let gravity = 0.5;
  let jumpPower = -10;
  let platforms = [];
  let score = 0;
  let isGameOver = false;
  let keys = {};

  function createPlatform(y) {
    const platform = document.createElement("div");
    platform.classList.add("platform");
    platform.style.left = Math.random() * 330 + "px";
    platform.style.top = y + "px";
    game.appendChild(platform);
    platforms.push(platform);
  }

  function setupPlatforms() {
    platforms.forEach(p => p.remove());
    platforms = [];
    for (let i = 0; i < 8; i++) {
      createPlatform(600 - i * 80);
    }
  }

  function update() {
    if (isGameOver) return;

    velocityY += gravity;
    snowmanY += velocityY;

    // Horizontal movement
    if (keys["ArrowLeft"] || keys["a"]) snowmanX -= 5;
    if (keys["ArrowRight"] || keys["d"]) snowmanX += 5;

    // Wrap around
    if (snowmanX < -40) snowmanX = 400;
    if (snowmanX > 400) snowmanX = -40;

    // Platform collision
    platforms.forEach(platform => {
      const pX = platform.offsetLeft;
      const pY = platform.offsetTop;

      if (
        snowmanX + 40 > pX &&
        snowmanX < pX + 70 &&
        snowmanY + 50 > pY &&
        snowmanY + 50 < pY + 10 &&
        velocityY > 0
      ) {
        velocityY = jumpPower;
      }
    });

    // Scroll world
    if (snowmanY < 250) {
      const diff = 250 - snowmanY;
      snowmanY = 250;
      platforms.forEach(platform => {
        platform.style.top =
          platform.offsetTop + diff + "px";
        if (platform.offsetTop > 600) {
          platform.remove();
          platforms.shift();
          createPlatform(-10);
          score++;
          scoreDisplay.textContent = "Score: " + score;
        }
      });
    }

    // Game over
    if (snowmanY > 600) {
      isGameOver = true;
      gameOverScreen.style.display = "flex";
    }

    snowman.style.left = snowmanX + "px";
    snowman.style.top = snowmanY + "px";

    requestAnimationFrame(update);
  }

  function restart() {
    score = 0;
    scoreDisplay.textContent = "Score: 0";
    snowmanX = 180;
    snowmanY = 450;
    velocityY = 0;
    isGameOver = false;
    gameOverScreen.style.display = "none";
    setupPlatforms();
    update();
  }

  document.addEventListener("keydown", e => (keys[e.key] = true));
  document.addEventListener("keyup", e => (keys[e.key] = false));

  setupPlatforms();
  update();
</script>

</body>
</html>
